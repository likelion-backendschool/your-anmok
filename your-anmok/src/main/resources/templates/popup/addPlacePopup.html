<html lang="en" xmlns:th="http://www.thymeleaf.org">

<script>
    function AddPlaceForm__submit(form) {
        form.placeName.value = form.placeName.value.trim();

        if ( form.placeName.value.length == 0 ) {
            alert("ì¥ì†Œëª…ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            form.placeName.focus();
            return;
        }

        form.address.value = form.address.value.trim();

        if ( form.address.value.length == 0 ) {
            alert("ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            form.address.focus();
            return;
        }

        form.categorySelect.value = form.categorySelect.value.trim();

        if ( form.categorySelect.value.length == 0 ) {
            alert("ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
            form.categorySelect.focus();
            return;
        }

        // form.placeImg.value = form.placeImg.value.trim();
        //
        // if ( form.placeImg.value.length == 0 ) {
        //     alert("ì‚¬ì§„ì„ ì²¨ë¶€í•´ì£¼ì„¸ìš”.");
        //     form.placeImg.focus();
        //     return;
        // }

        form.submit();
    }

</script>


<th:block th:fragment="addPlace">
    <div class="add_place_popup">
        <p id="addPlace_popup_title">ğŸ“Œ ì¥ì†Œ ë“±ë¡í•˜ê¸°</p>
        <form th:action="@{/addPlace}" method="POST" enctype="multipart/form-data" onsubmit="AddPlaceForm__submit(this); return false;">
            <div class="m-[10px]">
                <label for="place-name" class="col-form-label">ì¥ì†Œëª…</label>
                <input type="text" value="" class="form-control" id="place-name" name="placeName" readonly>
            </div>
            <div class="m-[10px]">
                <label for="place-address" class="col-form-label">ì£¼ì†Œ</label>
                <input type="text" value="" class="form-control" id="place-address" name="address" readonly>
            </div>
            <div class="m-[10px]" style="display: none">
                <input type="text" value="" class="form-control" id="place-lat" name="lat">
                <input type="text" value="" class="form-control" id="place-lon" name="lon">
            </div>
            <div class="m-[10px]">
                <label for="place-category" class="col-form-label">ì¹´í…Œê³ ë¦¬</label>
                <input id = "place-category" type="text" class="form-control" list="category_options" name="categorySelect" autocomplete='off'>
                <datalist id="category_options">
                    <tr th:each="categoryList : ${categoryList}" th:if="${categoryList != null}">
                        <option th:value="${categoryList.tagName}"></option>
                    </tr>
                </datalist>
            </div>
            <p class="mx-[10px]">ë³„ì </p>
            <div class="rating rating-lg mx-[10px] mb-[10px]">
                <input type="radio" name="rating" class="mask mask-star-2 bg-orange-400" value="1" />
                <input type="radio" name="rating" class="mask mask-star-2 bg-orange-400" value="2" />
                <input type="radio" name="rating" class="mask mask-star-2 bg-orange-400" value="3" checked/>
                <input type="radio" name="rating" class="mask mask-star-2 bg-orange-400" value="4" />
                <input type="radio" name="rating" class="mask mask-star-2 bg-orange-400" value="5" />
            </div>
            <div class="mx-[10px] mb-[10px]">
                <label for="place-img" class="col-form-label">ì‚¬ì§„ ì²¨ë¶€</label>
                <input class="form-control" type="file" id="place-img" name="placeImg" multiple>
            </div>
            <button id="addPlaceSubmitBtn" type="submit">ì¥ì†Œ ë“±ë¡í•˜ê¸°</button>
        </form>
    </div>
</th:block>